<div class="row" style="padding-top:12px;padding-bottom:12px;">
  <div class='col-md-12'>
    <div class='card'>
      <h5 class="card-header">{{pageTitle}}</h5>

      <!-- Filter the Listings   -->
      <div class='card-block'>
        <div class='row'>
          <div class='col-sm-2'>Filter by: </div>
          <div class='col-sm-4'>
            <input type='text' [(ngModel)]='listFilter' class="form-control" />
          </div>
        </div>

        <div class='has-error' *ngIf='errorMessage'>{{errorMessage}}</div>
<p></p>
        <div class='table-responsive'>
          <table class='table' *ngIf='listings && listings.length'>
            <thead>
              <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Address</th>
                <th>Agent</th>
                <th>
                </th>
                <th>
                </th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor='let listing of listings | listingFilter:listFilter'>
                <td>{{ listing.ListingId }}</td>
                <td>
                  <a [routerLink]="['/openhouse', listing.ListingId]">
                            {{listing.ListingName}}
                  </a>
                </td>
                <td>
                  {{listing.ListingAddress}}
                </td>
                <td>
                  {{listing.AgentName}}
                </td>
                <td>
                  <button type="button" class="btn btn-success btn-sm" (click)="onEditClicked(listing.ListingId, listing)">Edit</button>
                </td>
                <td>
                  <button type="button" class="btn btn-danger btn-sm" (click)="onDeleteClicked(listing)">Delete</button>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <p></p>
    <div class='card'>
      <h5 class="card-header">{{actionTitle}}</h5>

      <!-- Filter the Listings   -->
      <div class='card-block'>
        <div class='row'>
          <div class='col-sm-12'>
            <div class="container">
              <form #formCtrl="ngForm">
                <div class="form-group row">
                  <label for="inputEmail3" class="col-sm-2 col-form-label">Listing ID</label>
                  <div class="col-sm-2">
                    <input type="text" class="form-control greyed" name="inputListingId" placeholder="0" [(ngModel)]="inputListingId" readonly="true">
                  </div>
                </div>
                <div class="form-group row">
                  <label for="inputEmail3" class="col-sm-2 col-form-label">Listing Name</label>
                  <div class="col-sm-10">
                    <input type="text" class="form-control" name="inputListingName" placeholder="Listing Name" [(ngModel)]="inputListingName" required>
                  </div>
                </div>
                <div class="form-group row">
                  <label for="inputEmail3" class="col-sm-2 col-form-label">Listing Address</label>
                  <div class="col-sm-10">
                    <input type="text" class="form-control" name="inputListingAddress" placeholder="Listing Address" [(ngModel)]="inputListingAddress" required>
                  </div>
                </div>

                <div class="form-group row">
                  <div class="offset-sm-2 col-sm-10">
                    <button type="submit" class="btn btn-primary" (click)="onSaveClicked()" [disabled]="!formCtrl.form.valid">Save</button>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>

        <div class='has-error' *ngIf='errorMessage'>{{errorMessage}}</div>

      </div>
    </div>
  </div>
</div>